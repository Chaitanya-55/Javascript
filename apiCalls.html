<!DOCTYPE html>
<html>
    <head>
        <style>
            #id1{
                display:flex;
                flex-wrap: wrap;
            }
             #id1 li{
                padding: 10px;
                margin:10px;
                border: 2px solid gray;
                width:200px;
                text-align: center;
                list-style: none;
             }
        </style>

    </head>
    <body>
        <ul id="id1">

        </ul>
        
        <script>
            var countries = []
            fetch('https://restcountries.com/v3/all')
            .then(function(res){
                res.json().then(function(data){
                    console.log(data)
                    countries = data;
                    genUI();
                    
                }).catch(function(error){
                    console.log(error)
                })
        
                function genUI(){
                    countries.forEach(function(a){
                        var nli = document.createElement('li')
                        var nh2 = document.createElement('h2')
                        nh2.innerHTML = a.name.common
                        var nimg = document.createElement('img')
                        nimg.src = a.flags[0]
                        nimg.style.width = '100px'
                        var npopulation = document.createElement('h2')
                        npopulation.innerHTML = a.population
                       var ncapital = document.createElement('h3')
                       ncapital.innerHTML = a.capital ? a.capital[0] : 'No capital City'
                       nli.append(nh2)
                       nli.append(nimg)
                       nli.append(npopulation)
                       nli.append(ncapital)
                    document.getElementById('id1').appendChild(nli)
                     
                    })
                }

        
                    
                

            })
        </script>
    </body>
</html>